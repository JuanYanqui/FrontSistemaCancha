<body class="d-flex h-100 text-center">

    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">

        <div class="container">
            <div class="card">
                <div class="top-row background-top-row"> </div>

                <div class="content"> <i class="fa fa-lock" aria-hidden="true"></i>
                    <h1>Registrar Usuario</h1>
                    <h1>ReserverGame</h1>
                    <div class="form-progress">
                        <div><img src="../../../../../../assets/img/pelota.gif" class="plane" alt="" /></div>
                        <progress class="form-progress-bar" min="0" max="100" value="0" step="50"
                            aria-labelledby="form-progress-completion"></progress>
                        <div class="form-progress-indicator one active"></div>
                        <div class="form-progress-indicator two"></div>

                        <p id="form-progress-completion" class="js-form-progress-completion sr-only" aria-live="polite">
                            0% complete</p>
                    </div>

                    <div class="items panel over overflow-auto p-grid p-fluid">

                        <section id="step1" data-step="1">
                            <fieldset>
                                <div class="p-grid p-fluid">
                                    <div class="p-col-12 p-md-4">
                                        <span class="p-float-label">
                                            <input iid="float-input" type="text" [(ngModel)]="persona.cedula"
                                            [pKeyFilter]="'int'" maxlength="10" minlength="10"
                                            (ngModelChange)='buscarPorCedula()' pInputText required>
                                            <label for="float-input" >Cedula</label>
                                        </span>
                                    </div>
                                    <div class="p-col-12 p-md-4">
                                        <span class="p-float-label">
                                            <input id="float-input" type="text" [(ngModel)]="persona.nombre"
                                                (keypress)="onKeyPressLetras($event)" maxlength="15" minlength="3"
                                                pInputText>
                                            <label for="float-input">Nombres</label>
                                        </span>
                                    </div>
                                    <div class="p-col-12 p-md-4">
                                        <span class="p-float-label">
                                            <input id="float-input" type="text" [(ngModel)]="persona.apellido"
                                                (keypress)="onKeyPressLetras($event)" maxlength="15" minlength="3"
                                                pInputText>
                                            <label for="float-input">Apellidos</label>
                                        </span>
                                    </div>
                                    <div class="p-col-12 p-md-4">
                                        <span class="p-float-label">
                                            <input id="float-input" type="email" [(ngModel)]="persona.email"
                                                pInputText>
                                            <label for="float-input">Email</label>
                                        </span>
                                    </div>
                                    <div class="p-col-12 p-md-4">
                                        <span class="p-float-label">
                                            <input id="float-input" type="date"
                                                [(ngModel)]="persona.fechaNacimmiento" pInputText>
                                        </span>
                                    </div>
                                    <div class="p-col-3 p-md-4">
                                        <span class="p-float-label">
                                            <select pInputText placeholder="Sexo" type="text"
                                                [(ngModel)]="persona.genero" id="genero" name="genero" required>
                                                <option value="Masculino">Masculino</option>
                                                <option value="Femenino">Femenino</option>
                                            </select>
                                        </span>
                                    </div>
                                    <div class="p-col-3 p-md-4">
                                        <span class="p-float-label">
                                            <p-inputMask id="float-input" mask="09-999-9999"
                                                [(ngModel)]="persona.telefono" placeholder=""></p-inputMask>
                                            <label for="float-input">Teléfono</label>
                                        </span>
                                    </div>
                                    <div class="p-col-3 p-md-4">
                                        <span class="p-float-label">
                                            <p-inputMask id="float-input" mask="09-99999999" [(ngModel)]="persona.celular"
                                                placeholder=""></p-inputMask>
                                            <label for="float-input">Celular</label>
                                        </span>
                                    </div>
                                    <div class="p-col-3 p-md-4">
                                        <span class="p-float-label">
                                            <input (change)="imageSelected($event)" formControlName="foto"
                                                accept="image/*" name="foto" type="file" class="form-control"
                                                id="float-input" required />
                                            <label for="float-input"></label>
                                        </span>
                                        <div *ngIf="file" class="mt-3 text-center">
                                            <img [src]="file" class="rounded" alt="..." style="max-width: 30%;" />
                                        </div>
                                        <div>
                                            <img alt="..."
                                                style="max-width: 30%; visibility: hidden; width: 0px; height: 0px;"
                                                [src]="'http://localhost:5000/image/images/' + persona.foto" />
                                        </div>
                                    </div>
                                    <br>
                                    <div class="p-col-12 p-md-4">
                                        <button id="btnregistrarpersona" pButton pRipple type="button" label="Registrarse" icon="pi pi-check"
                                            iconPos="right" class="p-button-rounded p-button-primary"
                                            (click)="registrarPersona()" ></button>
                                    </div>
                                    <span>

                                    </span>
                                    <div class="p-col-12 p-md-4">
                                        <button [disabled]="!isButtonEnabled" pButton pRipple type="button" label="Next" icon="pi pi-check"
                                            iconPos="right" id="korak2" class="btn next" ></button>
                                    </div>

                                </div>
                            </fieldset>
                        </section>
                       


                        <section id="step2" class="form-step hidden" data-step="2">
                            <fieldset>
                                <div class="p-col-3 p-md-4">
                                    <span class="p-float-label">
                                        <input id="float-input" type="text" [(ngModel)]="usuario.username"
                                            [pKeyFilter]="'alphanum'" maxlength="10" minlength="3" pInputText>
                                        <label for="float-input">Username</label>
                                    </span>
                                </div>
                                
                                <div class="p-col-12 p-md-4">
                                    <span class="p-float-label">
                                        <p-password [toggleMask]="true" name="password"
                                        [(ngModel)]="usuario.password" maxlength="15" minlength="6">
                                            <ng-template pTemplate="header">
                                                <h6>Pick a password</h6>
                                            </ng-template>
                                            <ng-template pTemplate="footer">
                                                <p-divider></p-divider>
                                                <p class="mt-2">Suggestions</p>
                                                <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                                                    <li>Al menos una minúscula</li>
                                                    <li>Al menos una mayúscula</li>
                                                    <li>Al menos un número</li>
                                                    <li>Minimo 6 caracteres</li>
                                                </ul>
                                            </ng-template>
                                        </p-password>
                                        <label for="float-input">Password</label>
                                    </span>
                                </div>
                                <div class="p-col-12 p-md-4">
                                    <span class="p-float-label">
                                        <input id="float-input" type="text" [(ngModel)]="persona.cedula" pInputText [disabled]="true">
                                        <label for="float-input" (input)="buscarPorCedula()">Cedula</label>
                                    </span>
                                </div>
                                <div class="p-col-12 p-md-4">
                                    <span class="p-float-label">
                                        <input id="float-input" type="text"
                                            [(ngModel)]="persona.nombre" pInputText [disabled]="true">
                                        <label for="float-input">Nombre</label>
                                    </span>
                                </div>
                                <div class="p-col-12 p-md-4">
                                    <span class="p-float-label">
                                        <input id="float-input" type="text"
                                            [(ngModel)]="persona.apellido" pInputText [disabled]="true">
                                        <label for="float-input">Apellidos</label>
                                    </span>
                                </div>
                                <div class="p-col-12 p-md-4">
                                    <button pButton pRipple type="button" label="Registrarse" icon="pi pi-check"
                                        iconPos="right" class="p-button-rounded p-button-primary"
                                        (click)="registrarUsuario()" ></button>
                                </div>
                            </fieldset>
                        </section>

                    
                    </div>
                </div>
            </div>

        </div>

    </div>

</body>