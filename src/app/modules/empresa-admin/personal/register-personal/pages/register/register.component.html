<div class="container">
    <mat-tab-group [selectedIndex]="0" #tabGroup preserveContent>

        <mat-tab routerLink="../register-personal" routerLinkActive="active" label="Registro de Personal">
            <div class="content">

                <p-panel id="panelregempresa" header="Registro Personal">
                    <div class="panel over overflow-auto p-grid p-fluid">

                        <div class="tab-pane active" id="registrar">
                            <h5 class="card-title">Registrar</h5>
                            <main>
                                <div class="row g-5">
                                    <div class="col-12">
                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <label for="name" class="form-label">Cedula</label>
                                                <input maxlength="10" name="cedula" [(ngModel)]="persona.cedula"
                                                    type="text" [pKeyFilter]="'int'" maxlength="10" minlength="10"
                                                    class="form-control" id="cedula" [(ngModel)]="persona.cedula"
                                                    (ngModelChange)="buscarPorCedula()">
                                                <div *ngIf="this.cedula===1">
                                                    <div class="alertaNombres">
                                                        <p class="text-danger">*Complete el campo requerido del
                                                            nombre</p>
                                                    </div>
                                                </div>
                                                <div class="invalid-feedback">
                                                    Ingrese la cedula del personal.
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Nombres</label>
                                                <input name="nombres" [(ngModel)]="persona.nombre" type="text"
                                                    class="form-control" id="nombres" required>
                                                <div *ngIf="this.nombres===1">
                                                    <div class="alertaNombres">
                                                        <p class="text-danger">*Complete el campo requerido del
                                                            nombre</p>
                                                    </div>
                                                </div>
                                                <div class="invalid-feedback">
                                                    Ingrese el nombre del personal
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Apellidos</label>
                                                <input name="apellidos" [(ngModel)]="persona.apellido" type="text"
                                                    class="form-control" id="apellidos" required>
                                                <div class="invalid-feedback">
                                                    Ingrese los apellidos del apellidos
                                                </div>
                                            </div>

                                            <!-- distribuidor -->
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Correo</label>
                                                <input name="correo" [(ngModel)]="persona.email" type="text"
                                                    class="form-control" id="correo" required>
                                                <div class="invalid-feedback">
                                                    Ingrese el correo del correo
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Telefono</label>
                                                <p-inputMask id="float-input" name="telefono" mask="09-9999999"
                                                    [(ngModel)]="persona.telefono" placeholder="">
                                                </p-inputMask>
                                                <div class="invalid-feedback">
                                                    Ingrese el telefono del telefono
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Celular</label>
                                                <p-inputMask mask="09-9999-9999" name="celular"
                                                    [(ngModel)]="persona.celular" placeholder=""></p-inputMask>
                                                <div class="invalid-feedback">
                                                    Ingrese el celular del celular
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Fecha Nacimiento</label>
                                                <input name="fechaNacimiento" [(ngModel)]="persona.fecha_nacimiento"
                                                    type="date" class="form-control" id="fechaNacimiento" required>
                                                <div class="invalid-feedback">
                                                    Ingrese la fecha de nacimiento del personal
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Cargo</label>
                                                <p-multiSelect [options]="listaCargos" name="cargo"
                                                    [(ngModel)]="selectedCargos"
                                                    defaultLabel="Selecciona uno o mas cargos" optionLabel="nombre"
                                                    display="chip"></p-multiSelect>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Salario</label>
                                                <p-inputNumber [maxlength]="6" name="salario" id="float-input"
                                                    [(ngModel)]="personal.salario" inputId="locale-us" mode="decimal"
                                                    locale="en-US" [minFractionDigits]="2"></p-inputNumber>
                                                <div class="invalid-feedback">
                                                    Ingrese el salario del personal
                                                </div>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Username</label>
                                                <input name="username" [(ngModel)]="usuario.username" type="text"
                                                    class="form-control" id="username" required>
                                            </div>

                                            <div class="col-md-4">
                                                <label for="zip" class="form-label">Password</label>
                                                <input name="password" [(ngModel)]="usuario.password" type="password"
                                                    class="form-control" id="password" required>
                                            </div>

                                            <!-- foto -->
                                            <div class="col-md-4">
                                                <label for="float-input">Foto</label>
                                                <span class="p-float-label">
                                                    <input (change)="imageSelected($event)" formControlName="foto"
                                                        name="foto" type="file" accept="image/*" class="form-control"
                                                        id="float-input" required />
                                                </span>
                                                <div *ngIf="file" class="mt-3 text-center">
                                                    <img [src]="file" class="rounded" alt="..."
                                                        style="max-width: 30%;" />
                                                </div>
                                            </div>
                                        </div>

                                        <hr class="my-4">
                                        <div class="btn-group col-12 " role="group"
                                            aria-label="Basic mixed styles example">
                                            <button type="button " class="w-100 m-lg-1 btn btn-primary"
                                                (click)="crearPersonal()" type="submit">Guardar Personal</button>
                                        </div>
                                    </div>
                                </div>
                            </main>
                        </div>

                    </div>
                </p-panel>

            </div>
        </mat-tab>

        <mat-tab label="Listado Personal" routerLink="../list-personal" routerLinkActive="active">

            <app-list></app-list>

        </mat-tab>

    </mat-tab-group>

</div>